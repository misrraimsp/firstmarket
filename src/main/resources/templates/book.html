<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security"
      lang="en">
    <head th:replace="fragments/components::head('Book Details')"></head>
    <body>
        <div class="container-fluid">
            <!-- header -->
            <div th:replace="fragments/components::header"></div>
            <!-- main categories -->
            <div th:replace="fragments/components::mainCatsNavBar"></div>
            <!-- main book info -->
            <div class="row my-5">
                <div class="col-sm-1 bg-white"></div>
                <!-- image -->
                <div class="col-sm-3 bg-white">
                    <img class="img-fluid" th:src="@{/image/{id}(id=${book.image.id})}"/>
                </div>
                <!-- book info -->
                <div class="col-sm-6 bg-white">
                    <div class="row">
                        <div class="col-sm-6" >
                            <p><strong>Title: </strong><span th:text="${book.title}"></span></p>
                            <p><strong>Publisher: </strong><span th:text="${book.publisher.name}"></span></p>
                            <p><strong>Year: </strong><span th:text="${book.year}"></span></p>
                            <p><strong>Category: </strong><span th:text="${book.category.name}"></span></p>
                        </div>
                        <div class="col-sm-6" >
                            <p><strong>Authors: </strong><span th:text="${book.authorsString}"></span></p>
                            <p><strong>ISBN: </strong><span th:text="${book.isbn}"></span></p>
                            <p><strong>Language: </strong><span th:text="${book.language}"></span></p>
                            <p><strong>Pages: </strong><span th:text="${book.numPages}"></span></p>
                            <p><strong>Price: </strong><span th:text="${book.price}"></span>â‚¬</p>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-sm-12" >
                            <p><strong>Description: </strong><span th:text="${book.description}"></span></p>
                        </div>
                    </div>
                </div>
                <!-- right side buttons -->
                <div class="col-sm-2 bg-white" >
                    <div sec:authorize="!hasRole('ADMIN')">
                        <button class="addBook btn btn-outline-info btn-lg align-center" th:id="'ab-' + ${book.id}" data-toggle="tooltip" title="Add to Cart">
                            Add to Cart<i class="fas fa-cart-plus ml-2"></i>
                        </button>
                    </div>
                    <div sec:authorize="hasRole('ADMIN')">
                        <a class="btn btn-outline-info btn-xl align-center" th:href="@{/admin/editBook/{id}(id=${book.id})}" data-toggle="tooltip" title="Edit Book">
                            Edit Book<i class="fas fa-pen fa-2x ml-2"></i>
                        </a>
                    </div>
                </div>
            </div>
            <!-- footer -->
            <div th:replace="fragments/components::footer"></div>
            <script th:src="@{/js/ajaxCart.js}"></script>
        </div>
    </body>
</html>